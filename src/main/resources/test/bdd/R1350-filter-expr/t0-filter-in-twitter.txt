# let query filter like tests

FEATURE: filter- in expression for twitter. self-join
# Customer = Customer
# Address = Address 
background:
  type Customer struct {id int primaryKey, name string,
      relation followers Customer 'r1' many optional,
      relation followees Customer 'r1' many optional,
      relation tweets Address many optional
      }  end
  type Address struct {id int primaryKey, text string 
      relation sender Customer one,
  }  end
  insert Customer {id: 55, name: 'art' }
  insert Customer {id: 56, name: 'bob' }
  insert Customer {id: 57, name: 'cam' }
  
  
thenType: struct

---
title: in
given:
  insert Address {id: 1, text: 'tweet1', sender: 55 }
when:
  let x = Address[sender in [55]]
then:
value:a:Address {
 vid:1
 vtext:'tweet1'
 vsender:{55}
}

