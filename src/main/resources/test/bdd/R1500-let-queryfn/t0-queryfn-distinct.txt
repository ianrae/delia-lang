# queryfn tests

FEATURE: queryfn-distint 
background:
  type Flight struct {id int unique, wid int optional }  end
thenType: struct

---
title: without distinct
given:
  insert Flight {id: 55, wid: 4 }
  insert Flight {id: 56, wid: 3 }
  insert Flight {id: 57, wid: 4 }
  insert Flight {id: 58, wid: 3 }
when:
  let x = Flight[true].wid
then:
value:a:int:4
value:a:int:3
value:a:int:4
value:a:int:3

---
title: with distinct
given:
  insert Flight {id: 55, wid: 4 }
  insert Flight {id: 56, wid: 3 }
  insert Flight {id: 57, wid: 4 }
  insert Flight {id: 58, wid: 3 }
when:
  let x = Flight[true].wid.distinct()
then:
value:a:int:4
value:a:int:3

---
title: with distinct and orderBy
given:
  insert Flight {id: 55, wid: 4 }
  insert Flight {id: 56, wid: 3 }
  insert Flight {id: 57, wid: 4 }
  insert Flight {id: 58, wid: 3 }
when:
  let x = Flight[true].orderBy('wid').wid.distinct()
then:
value:a:int:3
value:a:int:4
